<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" /><link rel="next" title="Actions" href="../actions/" /><link rel="prev" title="Reference Documentation" href="../" />
        <link rel="canonical" href="https://burr.dagworks.io/reference/application/" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Applications - Burr</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-announcement-background: #ffba00;
  --color-announcement-text: #091E42;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: #ffba00;
  --color-announcement-text: #091E42;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: #ffba00;
  --color-announcement-text: #091E42;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">Burr</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  
  <span class="sidebar-brand-text">Burr</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User guide:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/why-burr/">Why Burr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/install/">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/simple-example/">Simple Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/up-next/">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../concepts/">Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Concepts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/state-machine/">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/state/">State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/actions/">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/transitions/">Transitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/hooks/">Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/tracking/">Tracking Burr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/state-persistence/">State Persistence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/streaming-actions/">Streaming Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/additional-visibility/">Additional Visibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/planned-capabilities/">Planned Capabilities</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../examples/">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/simple/">Simple examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/chatbot/">Chatbots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/agents/">Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/ml_training/">ML Model Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/simulation/">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/creating_tests/">Creating Test Cases</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://discord.gg/6Zy2DwP4f3">Discord Server</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Reference Documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Reference Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../state/">State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../persister/">State Persistence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditions/">Conditions/Transitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tracking/">Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visibility/">Tracing Inside Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle/">Lifecycle API</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../integrations/">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Integrations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../integrations/hamilton/">Hamilton</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integrations/streamlit/">Streamlit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../telemetry/">Usage analytics + data privacy</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contributing/">Developing / Contributing</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Developing / Contributing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/setup/">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/iterating/">Developing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/architecture/">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/contributing/">Contributing</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EXTERNAL RESOURCES</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/dagworks-inc/burr">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://forms.gle/w9u2QKcPrztApRedA">Burr Cloud</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blog.dagworks.io/">Blog</a></li>
<li class="toctree-l1"><a class="reference external" href="https://twitter.com/dagworks">Twitter</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/dagworks-inc/burr/edit/main/docs/reference/application.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="applications">
<h1>Applications<a class="headerlink" href="#applications" title="Link to this heading">#</a></h1>
<p>Use this to build and manage a state Machine. You should only ever instantiate the <code class="docutils literal notranslate"><span class="pre">ApplicationBuilder</span></code> class,
and not the <code class="docutils literal notranslate"><span class="pre">Application</span></code> class directly.</p>
<dl class="py class">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">burr.core.application.</span></span><span class="sig-name descname"><span class="pre">ApplicationBuilder</span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder" title="Link to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.Application" title="burr.core.application.Application"><span class="pre">Application</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.build" title="Link to this definition">#</a></dt>
<dd><p>Builds the application.</p>
<p>This function is a bit messy as we iron out the exact logic and rigor we want around things.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.initialize_from">
<span class="sig-name descname"><span class="pre">initialize_from</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">initializer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../persister/#burr.core.persistence.BaseStateLoader" title="burr.core.persistence.BaseStateLoader"><span class="pre">BaseStateLoader</span></a></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">resume_at_next_action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">default_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">default_entrypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.initialize_from" title="Link to this definition">#</a></dt>
<dd><p>Initializes the application we will build from some prior state object.
Note that you can <em>either</em> call this or use <cite>with_state</cite> and <cite>with_entrypoint</cite> – this also assigns application ID,
partition key, and sequence ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initializer</strong> – The persister object to use for initialization. Likely the same one called with <code class="docutils literal notranslate"><span class="pre">with_state_persister</span></code>.</p></li>
<li><p><strong>resume_at_next_action</strong> – Whether to resume at the next action, or default to the <code class="docutils literal notranslate"><span class="pre">default_entrypoint</span></code></p></li>
<li><p><strong>default_state</strong> – The default state to use if it does not exist. This is a dictionary.</p></li>
<li><p><strong>default_entrypoint</strong> – The default entry point to use if it does not exist or you elect not to resume_at_next_action.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_actions">
<span class="sig-name descname"><span class="pre">with_actions</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">action_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Callable</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">action_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Callable</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_actions" title="Link to this definition">#</a></dt>
<dd><p>Adds an action to the application. The actions are granted names (using the with_name)
method post-adding, using the kw argument. If it already has a name (or you wish to use the function name, raw, and
it is a function-based-action), then you can use the <em>args</em> parameter. This is the only supported way to add actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action_list</strong> – Actions to add – these must have a name or be function-based (in which case we will use the function-name)</p></li>
<li><p><strong>action_dict</strong> – Actions to add, keyed by name</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_entrypoint">
<span class="sig-name descname"><span class="pre">with_entrypoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_entrypoint" title="Link to this definition">#</a></dt>
<dd><p>Adds an entrypoint to the application. This is the action that will be run first.
This can only be called once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>action</strong> – The name of the action to set as the entrypoint</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_hooks">
<span class="sig-name descname"><span class="pre">with_hooks</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">adapters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreRunStepHook" title="burr.lifecycle.base.PreRunStepHook"><span class="pre">PreRunStepHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreRunStepHookAsync" title="burr.lifecycle.base.PreRunStepHookAsync"><span class="pre">PreRunStepHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostRunStepHook" title="burr.lifecycle.base.PostRunStepHook"><span class="pre">PostRunStepHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostRunStepHookAsync" title="burr.lifecycle.base.PostRunStepHookAsync"><span class="pre">PostRunStepHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PreRunApplicationHook</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PreRunApplicationHookAsync</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PostRunApplicationHook</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PostRunApplicationHookAsync</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostApplicationCreateHook" title="burr.lifecycle.base.PostApplicationCreateHook"><span class="pre">PostApplicationCreateHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreStartSpanHook" title="burr.lifecycle.base.PreStartSpanHook"><span class="pre">PreStartSpanHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreStartSpanHookAsync" title="burr.lifecycle.base.PreStartSpanHookAsync"><span class="pre">PreStartSpanHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostEndSpanHook" title="burr.lifecycle.base.PostEndSpanHook"><span class="pre">PostEndSpanHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostEndSpanHookAsync" title="burr.lifecycle.base.PostEndSpanHookAsync"><span class="pre">PostEndSpanHookAsync</span></a></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_hooks" title="Link to this definition">#</a></dt>
<dd><p>Adds a lifecycle adapter to the application. This is a way to add hooks to the application so that
they are run at the appropriate times. You can use this to synchronize state out, log results, etc…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>adapters</strong> – Adapter to add</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_identifiers">
<span class="sig-name descname"><span class="pre">with_identifiers</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">app_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">partition_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">sequence_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_identifiers" title="Link to this definition">#</a></dt>
<dd><p>Assigns various identifiers to the application. This is used for tracking, persistence, etc…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app_id</strong> – Application ID – this will be assigned to a uuid if not set.</p></li>
<li><p><strong>partition_key</strong> – Partition key – this is used for disambiguating groups of applications. For instance, a unique user ID, etc…
This is coupled to persistence, and is used to query for/select application runs.</p></li>
<li><p><strong>sequence_id</strong> – Sequence ID that we want this to start at. If you’re using <code class="docutils literal notranslate"><span class="pre">.initialize</span></code>, this will be set. Otherwise this is
solely for resetting/starting at a specified position.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_state">
<span class="sig-name descname"><span class="pre">with_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_state" title="Link to this definition">#</a></dt>
<dd><p>Sets initial values in the state. If you want to load from a prior state,
you can do so here and pass the values in.</p>
<p>TODO – enable passing in a <cite>state</cite> object instead of <cite>**kwargs</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – Key-value pairs to set in the state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_state_persister">
<span class="sig-name descname"><span class="pre">with_state_persister</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">persister</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../persister/#burr.core.persistence.BaseStateSaver" title="burr.core.persistence.BaseStateSaver"><span class="pre">BaseStateSaver</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreRunStepHook" title="burr.lifecycle.base.PreRunStepHook"><span class="pre">PreRunStepHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreRunStepHookAsync" title="burr.lifecycle.base.PreRunStepHookAsync"><span class="pre">PreRunStepHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostRunStepHook" title="burr.lifecycle.base.PostRunStepHook"><span class="pre">PostRunStepHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostRunStepHookAsync" title="burr.lifecycle.base.PostRunStepHookAsync"><span class="pre">PostRunStepHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PreRunApplicationHook</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PreRunApplicationHookAsync</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PostRunApplicationHook</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PostRunApplicationHookAsync</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostApplicationCreateHook" title="burr.lifecycle.base.PostApplicationCreateHook"><span class="pre">PostApplicationCreateHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreStartSpanHook" title="burr.lifecycle.base.PreStartSpanHook"><span class="pre">PreStartSpanHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreStartSpanHookAsync" title="burr.lifecycle.base.PreStartSpanHookAsync"><span class="pre">PreStartSpanHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostEndSpanHook" title="burr.lifecycle.base.PostEndSpanHook"><span class="pre">PostEndSpanHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostEndSpanHookAsync" title="burr.lifecycle.base.PostEndSpanHookAsync"><span class="pre">PostEndSpanHookAsync</span></a></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">on_every</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'step'</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_state_persister" title="Link to this definition">#</a></dt>
<dd><p>Adds a state persister to the application. This is a way to persist state out to a database, file, etc…
at the specified interval. This is one of two options:</p>
<ol class="arabic simple">
<li><p>[normal mode] A BaseStateSaver object – this is a utility class that makes it easy to save/load</p></li>
<li><p>[power-user-mode] A lifecycle adapter – this is a custom class that you use to save state.</p></li>
</ol>
<p>The framework will wrap the BaseStateSaver object in a PersisterHook, which is a post-run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>persister</strong> – The persister to add</p></li>
<li><p><strong>on_every</strong> – The interval to persist state. Currently only “step” is supported.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_tracker">
<span class="sig-name descname"><span class="pre">with_tracker</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">tracker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'local'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreRunStepHook" title="burr.lifecycle.base.PreRunStepHook"><span class="pre">PreRunStepHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreRunStepHookAsync" title="burr.lifecycle.base.PreRunStepHookAsync"><span class="pre">PreRunStepHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostRunStepHook" title="burr.lifecycle.base.PostRunStepHook"><span class="pre">PostRunStepHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostRunStepHookAsync" title="burr.lifecycle.base.PostRunStepHookAsync"><span class="pre">PostRunStepHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PreRunApplicationHook</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PreRunApplicationHookAsync</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PostRunApplicationHook</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PostRunApplicationHookAsync</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostApplicationCreateHook" title="burr.lifecycle.base.PostApplicationCreateHook"><span class="pre">PostApplicationCreateHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreStartSpanHook" title="burr.lifecycle.base.PreStartSpanHook"><span class="pre">PreStartSpanHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PreStartSpanHookAsync" title="burr.lifecycle.base.PreStartSpanHookAsync"><span class="pre">PreStartSpanHookAsync</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostEndSpanHook" title="burr.lifecycle.base.PostEndSpanHook"><span class="pre">PostEndSpanHook</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../lifecycle/#burr.lifecycle.base.PostEndSpanHookAsync" title="burr.lifecycle.base.PostEndSpanHookAsync"><span class="pre">PostEndSpanHookAsync</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'local'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_tracker" title="Link to this definition">#</a></dt>
<dd><p>Adds a “tracker” to the application. The tracker specifies
a project name (used for disambiguating groups of tracers), and plugs into the
Burr UI. This can either be:</p>
<ol class="arabic simple">
<li><p>A string (the only supported one right now is “local”), and a set of parameters for a set of supported trackers.</p></li>
<li><p>A lifecycle adapter object that does tracking (up to you how to implement it).</p></li>
</ol>
<ol class="arabic simple">
<li><p>internally creates a <code class="xref py py-class docutils literal notranslate"><span class="pre">LocalTrackingClient</span></code> object, and adds it to the lifecycle adapters.</p></li>
<li><p>adds the lifecycle adapter to the lifecycle adapters.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tracker</strong> – Tracker to use. <code class="docutils literal notranslate"><span class="pre">local</span></code> creates one, else pass one in.</p></li>
<li><p><strong>project</strong> – Project name – used if the tracker is string-specified (local).</p></li>
<li><p><strong>params</strong> – Parameters to pass to the tracker if it’s string-specified (local).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.ApplicationBuilder.with_transitions">
<span class="sig-name descname"><span class="pre">with_transitions</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">transitions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../conditions/#burr.core.action.Condition" title="burr.core.action.Condition"><span class="pre">Condition</span></a><span class="p"><span class="pre">]</span></span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a></span></span><a class="headerlink" href="#burr.core.application.ApplicationBuilder.with_transitions" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Adds transitions to the application. Transitions are specified as tuples of either:</dt><dd><ol class="arabic simple">
<li><p>(from, to, condition)</p></li>
<li><p>(from, to)  – condition is set to DEFAULT (which is a fallback)</p></li>
</ol>
</dd>
</dl>
<p>Transitions will be evaluated in order of specification – if one is met, the others will not be evaluated.
Note that one transition can be terminal – the system doesn’t have</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>transitions</strong> – Transitions to add</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The application builder for future chaining.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="applicationref">
<dt class="sig sig-object py" id="burr.core.application.Application">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">burr.core.application.</span></span><span class="sig-name descname"><span class="pre">Application</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">transitions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Transition</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">initial_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">partition_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">sequence_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">adapter_set</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LifecycleAdapterSet</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="headerlink" href="#burr.core.application.Application" title="Link to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">transitions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Transition</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">initial_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">partition_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">sequence_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">adapter_set</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LifecycleAdapterSet</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="headerlink" href="#burr.core.application.Application.__init__" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.aiterate">
<span class="sig-name descname"><span class="pre">aiterate</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#burr.core.application.Application.aiterate" title="Link to this definition">#</a></dt>
<dd><p>Returns a generator that calls step() in a row, enabling you to see the state
of the system as it updates. This is the asynchronous version so it has no capability of t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>halt_before</strong> – The list of actions to halt before execution of. It will halt on the first one.</p></li>
<li><p><strong>halt_after</strong> – The list of actions to halt after execution of. It will halt on the first one.</p></li>
<li><p><strong>inputs</strong> – Inputs to the action – this is if this action requires an input that is passed in from the outside world.
Note that this is only used for the first iteration – subsequent iterations will not use this.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each iteration returns the result of running <cite>step</cite>. This returns nothing – it’s an async generator which is not
allowed to have a return value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.arun">
<span class="sig-name descname"><span class="pre">arun</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#burr.core.application.Application.arun" title="Link to this definition">#</a></dt>
<dd><p>Runs your application through until completion, using async. Does
not give access to the state along the way – if you want that, use iterate().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>halt_before</strong> – The list of actions to halt before execution of. It will halt on the first one.</p></li>
<li><p><strong>halt_after</strong> – The list of actions to halt after execution of. It will halt on the first one.</p></li>
<li><p><strong>inputs</strong> – Inputs to the action – this is if this action requires an input that is passed in from the outside world</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The final state, and the results of running the actions in the order that they were specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.astep">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">astep</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#burr.core.application.Application.astep" title="Link to this definition">#</a></dt>
<dd><p>Asynchronous version of step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> – Inputs to the action – this is if this action
requires an input that is passed in from the outside world</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[Function, dict, State] – the action that was just ran, the result of running it, and the new state</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.astream_result">
<span class="sig-name descname"><span class="pre">astream_result</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#burr.core.application.Application.astream_result" title="Link to this definition">#</a></dt>
<dd><p>Placeholder for the async version of stream_result. This is not yet implemented.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="burr.core.application.Application.builder">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">builder</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#burr.core.application.ApplicationBuilder" title="burr.core.application.ApplicationBuilder"><span class="pre">ApplicationBuilder</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#burr.core.application.Application.builder" title="Link to this definition">#</a></dt>
<dd><p>Returns the application builder that was used to build this application.
Note that this asusmes the application was built using the builder. Otherwise,</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application builder</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="burr.core.application.Application.graph">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">graph</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#burr.core.application.ApplicationGraph" title="burr.core.application.ApplicationGraph"><span class="pre">ApplicationGraph</span></a></em><a class="headerlink" href="#burr.core.application.Application.graph" title="Link to this definition">#</a></dt>
<dd><p>Application graph object – if you want to inspect, visualize, etc..
this is what you want.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application graph object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.has_next_action">
<span class="sig-name descname"><span class="pre">has_next_action</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#burr.core.application.Application.has_next_action" title="Link to this definition">#</a></dt>
<dd><p>Returns whether or not there is a next action to run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if there is a next action, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.iterate">
<span class="sig-name descname"><span class="pre">iterate</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#burr.core.application.Application.iterate" title="Link to this definition">#</a></dt>
<dd><p>Returns a generator that calls step() in a row, enabling you to see the state
of the system as it updates. Note this returns a generator, and also the final result
(for convenience).</p>
<p>Note the nuance with halt_before and halt_after. halt_before conditions will take precedence to halt_after. Furthermore,
a single iteration will always be executed prior to testing for any halting conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>halt_before</strong> – The list of actions to halt before execution of. It will halt prior to the execution of the first one it sees.</p></li>
<li><p><strong>halt_after</strong> – The list of actions to halt after execution of. It will halt after the execution of the first one it sees.</p></li>
<li><p><strong>inputs</strong> – Inputs to the action – this is if this action requires an input that is passed in from the outside world.
Note that this is only used for the first iteration – subsequent iterations will not use this.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each iteration returns the result of running <cite>step</cite>. This generator also returns a tuple of
[action, result, current state]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="burr.core.application.Application.partition_key">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">partition_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#burr.core.application.Application.partition_key" title="Link to this definition">#</a></dt>
<dd><p>Partition key for the application. This is designed to add semantic meaning to
the application, and be leveraged by persistence systems to select/find applications.</p>
<p>Note this is optional – if it is not included, you will need to use a persister that
supports a null partition key.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The partition key, None if not set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.reset_to_entrypoint">
<span class="sig-name descname"><span class="pre">reset_to_entrypoint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#burr.core.application.Application.reset_to_entrypoint" title="Link to this definition">#</a></dt>
<dd><p>Resets the state machine to the entrypoint action.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#burr.core.application.Application.run" title="Link to this definition">#</a></dt>
<dd><p>Runs your application through until completion. Does
not give access to the state along the way – if you want that, use iterate().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>halt_before</strong> – The list of actions to halt before execution of. It will halt on the first one.</p></li>
<li><p><strong>halt_after</strong> – The list of actions to halt after execution of. It will halt on the first one.</p></li>
<li><p><strong>inputs</strong> – Inputs to the action – this is if this action requires an input that is passed in from the outside world.
Note that this is only used for the first iteration – subsequent iterations will not use this.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The final state, and the results of running the actions in the order that they were specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="burr.core.application.Application.sequence_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sequence_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#burr.core.application.Application.sequence_id" title="Link to this definition">#</a></dt>
<dd><p>gives the sequence ID of the current (next) action.
This is incremented prior to every step. Any logging, etc… will use the current
step’s sequence ID</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The sequence ID of the current (next) action</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="burr.core.application.Application.state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a></em><a class="headerlink" href="#burr.core.application.Application.state" title="Link to this definition">#</a></dt>
<dd><p>Gives the state. Recall that state is purely immutable
– anything you do with this state will not be persisted unless you
subsequently call update_state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current state object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#burr.core.application.Application.step" title="Link to this definition">#</a></dt>
<dd><p>Performs a single step, advancing the state machine along.
This returns a tuple of the action that was run, the result of running
the action, and the new state.</p>
<p>Use this if you just want to do something with the state and not rely on generators.
E.G. press forward/backwards, human in the loop, etc… Odds are this is not
the method you want – you’ll want iterate() (if you want to see the state/
results along the way), or run() (if you just want the final state/results).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> – Inputs to the action – this is if this action requires an input that is passed in from the outside world</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[Function, dict, State] – the function that was just ran, the result of running it, and the new state</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.stream_result">
<span class="sig-name descname"><span class="pre">stream_result</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">halt_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../actions/#burr.core.action.StreamingResultContainer" title="burr.core.action.StreamingResultContainer"><span class="pre">StreamingResultContainer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#burr.core.application.Application.stream_result" title="Link to this definition">#</a></dt>
<dd><p>Streams a result out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>halt_after</strong> – The list of actions to halt after execution of. It will halt on the first one.</p></li>
<li><p><strong>halt_before</strong> – The list of actions to halt before execution of. It will halt on the first one. Note that
if this is met, the streaming result container will be empty (and return None) for the result, having an empty generator.</p></li>
<li><p><strong>inputs</strong> – Inputs to the action – this is if this action requires an input that is passed in from the outside world</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A streaming result container, which is a generator that will yield results as they come in, as wel as cache/give you the final result, and update state accordingly.</p>
</dd>
</dl>
<p>This is meant to be used with streaming actions – <a class="reference internal" href="../actions/#burr.core.action.streaming_action" title="burr.core.action.streaming_action"><code class="xref py py-meth docutils literal notranslate"><span class="pre">streaming_action</span></code></a>
or <a class="reference internal" href="../actions/#burr.core.action.StreamingAction" title="burr.core.action.StreamingAction"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamingAction</span></code></a> It returns a
<a class="reference internal" href="../actions/#burr.core.action.StreamingResultContainer" title="burr.core.action.StreamingResultContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamingResultContainer</span></code></a>, which has two capabilities:</p>
<ol class="arabic simple">
<li><p>It is a generator that streams out the intermediate results of the action</p></li>
<li><p>It has a <code class="docutils literal notranslate"><span class="pre">.get()</span></code> method that returns the final result of the action, and the final state.</p></li>
</ol>
<p>If <code class="docutils literal notranslate"><span class="pre">.get()</span></code> is called before the generator is exhausted, it will block until the generator is exhausted.</p>
<p>While this container is meant to work with streaming actions, it can also be used with non-streaming actions. In this case,
the generator will be empty, and the <code class="docutils literal notranslate"><span class="pre">.get()</span></code> method will return the final result and state.</p>
<p>The rules for halt_before and halt_after are the same as for <a class="reference internal" href="#burr.core.application.Application.iterate" title="burr.core.application.Application.iterate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterate</span></code></a>,
and <a class="reference internal" href="#burr.core.application.Application.run" title="burr.core.application.Application.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run</span></code></a>. In this case, <cite>halt_before</cite> will indicate a <em>non</em> streaming action,
which will be empty. Thus <code class="docutils literal notranslate"><span class="pre">halt_after</span></code> takes precedence – if it is met, the streaming result container will contain the result of the
halt_after condition.</p>
<p>The <a class="reference internal" href="../actions/#burr.core.action.StreamingResultContainer" title="burr.core.action.StreamingResultContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamingResultContainer</span></code></a> is meant as a convenience – specifically this allows for
hooks, callbacks, etc… so you can take the control flow and still have state updated afterwards. Hooks/state update will be called after an exception
is thrown during streaming, or the stream is completed. Note that it is undefined behavior to attempt to execute another action while a stream is in progress.</p>
<p>To see how this works, let’s take the following action (simplified as a single-node workflow) as an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@streaming_action</span><span class="p">(</span><span class="n">reads</span><span class="o">=</span><span class="p">[],</span> <span class="n">writes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">streaming_response</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span> <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">State</span><span class="p">]]:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="s1">&#39;gpt-3.5-turbo&#39;</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="p">[{</span>
            <span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">prompt</span>
            <span class="p">}],</span>
        <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">buffer</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">chunk</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">delta</span><span class="o">.</span><span class="n">content</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
        <span class="c1"># yield partial results</span>
        <span class="k">yield</span> <span class="p">{</span><span class="s1">&#39;response&#39;</span><span class="p">:</span> <span class="n">delta</span><span class="p">}</span>
    <span class="n">full_response</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
    <span class="c1"># return the final result</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;response&#39;</span><span class="p">:</span> <span class="n">full_response</span><span class="p">},</span> <span class="n">state</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="n">full_response</span><span class="p">)</span>
</pre></div>
</div>
<p>To use streaming_result, you pass in names of streaming actions (such as the one above) to the halt_after
parameter:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">ApplicationBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">with_actions</span><span class="p">(</span><span class="n">streaming_response</span><span class="o">=</span><span class="n">streaming_response</span><span class="p">)</span><span class="o">...</span><span class="n">build</span><span class="p">()</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Count to 100, with a comma between each number and no newlines. E.g., 1, 2, 3, ...&quot;</span>
<span class="n">action</span><span class="p">,</span> <span class="n">streaming_result</span> <span class="o">=</span> <span class="n">application</span><span class="o">.</span><span class="n">stream_result</span><span class="p">(</span><span class="n">halt_after</span><span class="o">=</span><span class="s1">&#39;streaming_response&#39;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">streaming_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">])</span> <span class="c1"># one by one</span>

<span class="n">result</span><span class="p">,</span> <span class="n">state</span> <span class="o">=</span> <span class="n">streaming_result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="c1">#  all at once</span>
</pre></div>
</div>
<p>Note that if you have multiple halt_after conditions, you can use the <code class="docutils literal notranslate"><span class="pre">.action</span></code> attribute to get the action that
was run.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">ApplicationBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">with_actions</span><span class="p">(</span>
    <span class="n">streaming_response</span><span class="o">=</span><span class="n">streaming_response</span><span class="p">,</span>
    <span class="n">error</span><span class="o">=</span><span class="n">error</span> <span class="c1"># another function that outputs an error, streaming</span>
<span class="p">)</span><span class="o">...</span><span class="n">build</span><span class="p">()</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Count to 100, with a comma between each number and no newlines. E.g., 1, 2, 3, ...&quot;</span>
<span class="n">action</span><span class="p">,</span> <span class="n">streaming_result</span> <span class="o">=</span> <span class="n">application</span><span class="o">.</span><span class="n">stream_result</span><span class="p">(</span><span class="n">halt_after</span><span class="o">=</span><span class="s1">&#39;streaming_response&#39;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>
<span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span> <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span> <span class="k">else</span> <span class="s2">&quot;green&quot;</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">streaming_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">],</span> <span class="n">color</span><span class="p">))</span> <span class="c1"># assumes that error and streaming_response both have the same output shape</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">ApplicationBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">with_actions</span><span class="p">(</span>
    <span class="n">streaming_response</span><span class="o">=</span><span class="n">streaming_response</span><span class="p">,</span>
    <span class="n">error</span><span class="o">=</span><span class="n">non_streaming_error</span> <span class="c1"># a non-streaming function that outputs an error</span>
<span class="p">)</span><span class="o">...</span><span class="n">build</span><span class="p">()</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Count to 100, with a comma between each number and no newlines. E.g., 1, 2, 3, ...&quot;</span>
<span class="n">action</span><span class="p">,</span> <span class="n">streaming_result</span> <span class="o">=</span> <span class="n">application</span><span class="o">.</span><span class="n">stream_result</span><span class="p">(</span><span class="n">halt_after</span><span class="o">=</span><span class="s1">&#39;streaming_response&#39;</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>
<span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span> <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span> <span class="k">else</span> <span class="s2">&quot;green&quot;</span>
<span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;streaming_response&quot;</span><span class="p">:</span> <span class="c1"># can also use the ``.streaming`` attribute of action</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
         <span class="nb">print</span><span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">],</span> <span class="n">color</span><span class="p">))</span> <span class="c1"># assumes that error and streaming_response both have the same output shape</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">result</span><span class="p">,</span> <span class="n">state</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">],</span> <span class="n">color</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="burr.core.application.Application.uid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#burr.core.application.Application.uid" title="Link to this definition">#</a></dt>
<dd><p>Unique ID for the application. This must be unique across <em>all</em> applications in a search space.
This is used by persistence/tracking to ensure that applications have meanings.</p>
<p>Every application has this – if not assigned, it will be randomly generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unique ID for the application</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.update_state">
<span class="sig-name descname"><span class="pre">update_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../state/#burr.core.state.State" title="burr.core.state.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#burr.core.application.Application.update_state" title="Link to this definition">#</a></dt>
<dd><p>Updates state – this is meant to be called if you need to do
anything with the state. For example:
1. Reset it (after going through a loop)
2. Store to some external source/log out</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_state</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="burr.core.application.Application.visualize">
<span class="sig-name descname"><span class="pre">visualize</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">include_conditions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">include_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'graphviz'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'graphviz'</span></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">engine_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">graphviz.Digraph</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#burr.core.application.Application.visualize" title="Link to this definition">#</a></dt>
<dd><p>Visualizes the application graph using graphviz. This will render the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_file_path</strong> – The path to save this to, None if you don’t want to save. Do not pass an extension
for graphviz, instead pass <cite>format</cite> in <cite>engine_kwargs</cite> (e.g. <cite>format=”png”</cite>)</p></li>
<li><p><strong>include_conditions</strong> – Whether to include condition strings on the edges (this can get noisy)</p></li>
<li><p><strong>include_state</strong> – Whether to indicate the action “signature” (reads/writes) on the nodes</p></li>
<li><p><strong>view</strong> – Whether to bring up a view</p></li>
<li><p><strong>engine</strong> – The engine to use – only graphviz is supported for now</p></li>
<li><p><strong>engine_kwargs</strong> – Additional kwargs to pass to the engine</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The graphviz object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="burr.core.application.ApplicationGraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">burr.core.application.</span></span><span class="sig-name descname"><span class="pre">ApplicationGraph</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">transitions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Transition</span><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../actions/#burr.core.action.Action" title="burr.core.action.Action"><span class="pre">Action</span></a></span></em>,</dd>
</dl>

<span class="sig-paren">)</span><a class="headerlink" href="#burr.core.application.ApplicationGraph" title="Link to this definition">#</a></dt>
<dd><p>User-facing representation of the state machine. This has</p>
<ol class="arabic simple">
<li><p>All the action objects</p></li>
<li><p>All the transition objects</p></li>
<li><p>The entrypoint action</p></li>
</ol>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../actions/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Actions</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Reference Documentation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Elijah ben Izzy, Stefan Krawczyk
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Applications</a><ul>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder</span></code></a><ul>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.build"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.build()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.initialize_from"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.initialize_from()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_actions"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_actions()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_entrypoint"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_entrypoint()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_hooks"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_hooks()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_identifiers"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_identifiers()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_state"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_state()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_state_persister"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_state_persister()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_tracker"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_tracker()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.ApplicationBuilder.with_transitions"><code class="docutils literal notranslate"><span class="pre">ApplicationBuilder.with_transitions()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#burr.core.application.Application"><code class="docutils literal notranslate"><span class="pre">Application</span></code></a><ul>
<li><a class="reference internal" href="#burr.core.application.Application.__init__"><code class="docutils literal notranslate"><span class="pre">Application.__init__()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.aiterate"><code class="docutils literal notranslate"><span class="pre">Application.aiterate()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.arun"><code class="docutils literal notranslate"><span class="pre">Application.arun()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.astep"><code class="docutils literal notranslate"><span class="pre">Application.astep()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.astream_result"><code class="docutils literal notranslate"><span class="pre">Application.astream_result()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.builder"><code class="docutils literal notranslate"><span class="pre">Application.builder</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.graph"><code class="docutils literal notranslate"><span class="pre">Application.graph</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.has_next_action"><code class="docutils literal notranslate"><span class="pre">Application.has_next_action()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.iterate"><code class="docutils literal notranslate"><span class="pre">Application.iterate()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.partition_key"><code class="docutils literal notranslate"><span class="pre">Application.partition_key</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.reset_to_entrypoint"><code class="docutils literal notranslate"><span class="pre">Application.reset_to_entrypoint()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.run"><code class="docutils literal notranslate"><span class="pre">Application.run()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.sequence_id"><code class="docutils literal notranslate"><span class="pre">Application.sequence_id</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.state"><code class="docutils literal notranslate"><span class="pre">Application.state</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.step"><code class="docutils literal notranslate"><span class="pre">Application.step()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.stream_result"><code class="docutils literal notranslate"><span class="pre">Application.stream_result()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.uid"><code class="docutils literal notranslate"><span class="pre">Application.uid</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.update_state"><code class="docutils literal notranslate"><span class="pre">Application.update_state()</span></code></a></li>
<li><a class="reference internal" href="#burr.core.application.Application.visualize"><code class="docutils literal notranslate"><span class="pre">Application.visualize()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#burr.core.application.ApplicationGraph"><code class="docutils literal notranslate"><span class="pre">ApplicationGraph</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=187304be"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>